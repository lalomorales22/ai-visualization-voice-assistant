{
  "version": 3,
  "sources": ["preload.ts"],
  "sourcesContent": ["import { contextBridge, ipcRenderer } from 'electron'\n\n// Expose protected methods that allow the renderer process to use\n// ipcRenderer without exposing the entire object\ncontextBridge.exposeInMainWorld('electron', {\n  // Groq API calls (proxied through main process for security)\n  groq: {\n    transcribe: (audioData: Uint8Array) => ipcRenderer.invoke('groq:transcribe', audioData),\n    chat: (messages: any[]) => ipcRenderer.invoke('groq:chat', messages),\n    tts: (text: string, voice: string) => ipcRenderer.invoke('groq:tts', text, voice),\n    vision: (image: string, prompt: string) => ipcRenderer.invoke('groq:vision', image, prompt),\n\n    // Listen for streaming chat chunks\n    onChatChunk: (callback: (chunk: string) => void) => {\n      ipcRenderer.on('groq:chat-chunk', (_event, chunk) => callback(chunk))\n    }\n  },\n\n  // Database operations\n  db: {\n    saveMessage: (params: {\n      sessionId: string\n      role: string\n      content: string\n      metadata?: any\n    }) => ipcRenderer.invoke('db:save-message', params),\n\n    getConversations: (params: {\n      sessionId: string\n      limit?: number\n    }) => ipcRenderer.invoke('db:get-conversations', params),\n\n    createSession: (title?: string) => ipcRenderer.invoke('db:create-session', title),\n\n    getSession: (sessionId: string) => ipcRenderer.invoke('db:get-session', sessionId),\n\n    getSessions: (limit?: number) => ipcRenderer.invoke('db:get-sessions', limit),\n\n    renameSession: (params: { sessionId: string; title: string }) =>\n      ipcRenderer.invoke('db:rename-session', params),\n\n    updateSessionSummary: (params: { sessionId: string; summary: string }) =>\n      ipcRenderer.invoke('db:update-session-summary', params),\n\n    getRecentContext: (params: { sessionId: string; limit?: number }) =>\n      ipcRenderer.invoke('db:get-recent-context', params),\n\n    searchConversations: (params: { query: string; sessionId?: string; limit?: number }) =>\n      ipcRenderer.invoke('db:search-conversations', params),\n\n    getPersonality: () => ipcRenderer.invoke('db:get-personality'),\n\n    updatePersonality: (params: {\n      key: string\n      value: any\n      confidence?: number\n    }) => ipcRenderer.invoke('db:update-personality', params),\n\n    deletePersonality: (key: string) => ipcRenderer.invoke('db:delete-personality', key),\n\n    savePreset: (params: {\n      name: string\n      config: any\n      thumbnail?: string\n    }) => ipcRenderer.invoke('db:save-preset', params),\n\n    getPresets: () => ipcRenderer.invoke('db:get-presets'),\n\n    getPreference: (key: string) => ipcRenderer.invoke('db:get-preference', key),\n\n    setPreference: (params: {\n      key: string\n      value: any\n      category: string\n    }) => ipcRenderer.invoke('db:set-preference', params)\n  },\n\n  // Window controls\n  window: {\n    minimize: () => ipcRenderer.send('window:minimize'),\n    close: () => ipcRenderer.send('window:close'),\n    toggleAlwaysOnTop: () => ipcRenderer.send('window:toggle-on-top')\n  },\n\n  // System commands\n  system: {\n    executeCommand: (command: string) => ipcRenderer.invoke('system:execute-command', command)\n  }\n})\n\n// Type definitions for TypeScript\nexport interface ElectronAPI {\n  groq: {\n    transcribe: (audioData: Uint8Array) => Promise<{ text: string }>\n    chat: (messages: any[]) => Promise<string>\n    tts: (text: string, voice: string) => Promise<ArrayBuffer>\n    vision: (image: string, prompt: string) => Promise<string>\n    onChatChunk: (callback: (chunk: string) => void) => void\n  }\n  db: {\n    saveMessage: (params: any) => Promise<any>\n    getConversations: (params: any) => Promise<any[]>\n    createSession: (title?: string) => Promise<{ id: string; title: string }>\n    getSession: (sessionId: string) => Promise<any>\n    getSessions: (limit?: number) => Promise<any[]>\n    renameSession: (params: { sessionId: string; title: string }) => Promise<any>\n    updateSessionSummary: (params: { sessionId: string; summary: string }) => Promise<any>\n    getRecentContext: (params: { sessionId: string; limit?: number }) => Promise<any[]>\n    searchConversations: (params: { query: string; sessionId?: string; limit?: number }) => Promise<any[]>\n    getPersonality: () => Promise<Array<{ key: string; value: any; confidence: number; last_updated: string }>>\n    updatePersonality: (params: any) => Promise<any>\n    deletePersonality: (key: string) => Promise<any>\n    savePreset: (params: any) => Promise<any>\n    getPresets: () => Promise<any[]>\n    getPreference: (key: string) => Promise<any>\n    setPreference: (params: any) => Promise<any>\n  }\n  window: {\n    minimize: () => void\n    close: () => void\n    toggleAlwaysOnTop: () => void\n  }\n}\n\ndeclare global {\n  interface Window {\n    electron: ElectronAPI\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,sBAA2C;AAI3C,8BAAc,kBAAkB,YAAY;AAAA;AAAA,EAE1C,MAAM;AAAA,IACJ,YAAY,CAAC,cAA0B,4BAAY,OAAO,mBAAmB,SAAS;AAAA,IACtF,MAAM,CAAC,aAAoB,4BAAY,OAAO,aAAa,QAAQ;AAAA,IACnE,KAAK,CAAC,MAAc,UAAkB,4BAAY,OAAO,YAAY,MAAM,KAAK;AAAA,IAChF,QAAQ,CAAC,OAAe,WAAmB,4BAAY,OAAO,eAAe,OAAO,MAAM;AAAA;AAAA,IAG1F,aAAa,CAAC,aAAsC;AAClD,kCAAY,GAAG,mBAAmB,CAAC,QAAQ,UAAU,SAAS,KAAK,CAAC;AAAA,IACtE;AAAA,EACF;AAAA;AAAA,EAGA,IAAI;AAAA,IACF,aAAa,CAAC,WAKR,4BAAY,OAAO,mBAAmB,MAAM;AAAA,IAElD,kBAAkB,CAAC,WAGb,4BAAY,OAAO,wBAAwB,MAAM;AAAA,IAEvD,eAAe,CAAC,UAAmB,4BAAY,OAAO,qBAAqB,KAAK;AAAA,IAEhF,YAAY,CAAC,cAAsB,4BAAY,OAAO,kBAAkB,SAAS;AAAA,IAEjF,aAAa,CAAC,UAAmB,4BAAY,OAAO,mBAAmB,KAAK;AAAA,IAE5E,eAAe,CAAC,WACd,4BAAY,OAAO,qBAAqB,MAAM;AAAA,IAEhD,sBAAsB,CAAC,WACrB,4BAAY,OAAO,6BAA6B,MAAM;AAAA,IAExD,kBAAkB,CAAC,WACjB,4BAAY,OAAO,yBAAyB,MAAM;AAAA,IAEpD,qBAAqB,CAAC,WACpB,4BAAY,OAAO,2BAA2B,MAAM;AAAA,IAEtD,gBAAgB,MAAM,4BAAY,OAAO,oBAAoB;AAAA,IAE7D,mBAAmB,CAAC,WAId,4BAAY,OAAO,yBAAyB,MAAM;AAAA,IAExD,mBAAmB,CAAC,QAAgB,4BAAY,OAAO,yBAAyB,GAAG;AAAA,IAEnF,YAAY,CAAC,WAIP,4BAAY,OAAO,kBAAkB,MAAM;AAAA,IAEjD,YAAY,MAAM,4BAAY,OAAO,gBAAgB;AAAA,IAErD,eAAe,CAAC,QAAgB,4BAAY,OAAO,qBAAqB,GAAG;AAAA,IAE3E,eAAe,CAAC,WAIV,4BAAY,OAAO,qBAAqB,MAAM;AAAA,EACtD;AAAA;AAAA,EAGA,QAAQ;AAAA,IACN,UAAU,MAAM,4BAAY,KAAK,iBAAiB;AAAA,IAClD,OAAO,MAAM,4BAAY,KAAK,cAAc;AAAA,IAC5C,mBAAmB,MAAM,4BAAY,KAAK,sBAAsB;AAAA,EAClE;AAAA;AAAA,EAGA,QAAQ;AAAA,IACN,gBAAgB,CAAC,YAAoB,4BAAY,OAAO,0BAA0B,OAAO;AAAA,EAC3F;AACF,CAAC;",
  "names": []
}
